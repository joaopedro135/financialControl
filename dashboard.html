<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Controle FInanceiro — Painel de controle de investimentos." />
  <title>Dashboard — Controle FInanceiro</title>

  <!-- Estilos globais e específicos da página -->
  <link rel="stylesheet" href="assets/css/global.css" />
  <link rel="stylesheet" href="assets/css/dashboard.css" />
</head>
<body>

  <!-- ══════════════════════════════════════════════════════
       PÁGINA: Dashboard Principal
       Layout: sidebar fixa (esquerda) + topbar + conteúdo
  ══════════════════════════════════════════════════════ -->

  <div class="app-layout">

    <!-- ══════════════════════════════════════════════════
         SIDEBAR — Navegação lateral
    ══════════════════════════════════════════════════ -->
    <aside class="sidebar" id="sidebar" role="navigation" aria-label="Navegação principal">

      <!-- Logo na sidebar -->
      <div class="sidebar-logo">
        <div class="sidebar-logo__icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
            <polyline points="17 6 23 6 23 12"></polyline>
          </svg>
        </div>
        <span class="sidebar-logo__name">Controle FInanceiro</span>
      </div>

      <!-- Links de navegação -->
      <nav class="sidebar-nav">

        <!-- Grupo: Principal -->
        <div class="sidebar-nav__label">Principal</div>

        <a href="dashboard.html" class="nav-item active" aria-current="page">
          <!-- Ícone: Home/Dashboard -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          Visão Geral
        </a>

        <a href="add-investment.html" class="nav-item">
          <!-- Ícone: Plus/Adicionar -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="16"></line>
            <line x1="8" y1="12" x2="16" y2="12"></line>
          </svg>
          Novo Investimento
        </a>

        <!-- Grupo: Análise -->
        <div class="sidebar-nav__label" style="margin-top: 12px;">Análise</div>

        <a href="indices.html" class="nav-item">
          <!-- Ícone: Gráfico de barras -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="20" x2="18" y2="10"></line>
            <line x1="12" y1="20" x2="12" y2="4"></line>
            <line x1="6"  y1="20" x2="6"  y2="14"></line>
          </svg>
          Índices
        </a>

        <a href="distribuicao.html" class="nav-item">
          <!-- Ícone: Pie chart -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
            <path d="M22 12A10 10 0 0 0 12 2v10z"></path>
          </svg>
          Distribuição
        </a>
      </nav>

      <!-- Informações do usuário logado (rodapé da sidebar) -->
      <!-- Os dados (nome, email, iniciais) serão preenchidos pelo dashboard.js -->
      <div class="sidebar-user">
        <a href="configuracoes.html" class="sidebar-user__profile" title="Configurações">
          <div class="sidebar-user__avatar" id="user-avatar">JS</div>
          <div class="sidebar-user__info">
            <div class="sidebar-user__name" id="user-name">João Silva</div>
            <div class="sidebar-user__email" id="user-email">joao@email.com</div>
          </div>
        </a>
        <button class="sidebar-logout" title="Sair" id="logout-btn" aria-label="Sair da conta">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
        </button>
      </div>

    </aside>
    <!-- / Sidebar -->

    <!-- ══════════════════════════════════════════════════
         TOPBAR — Barra superior
    ══════════════════════════════════════════════════ -->
    <header class="topbar" role="banner">

      <!-- Botão hamburguer (visível apenas em mobile) -->
      <button
        class="topbar__menu-btn"
        id="menu-toggle"
        aria-label="Abrir menu de navegação"
        aria-controls="sidebar"
        aria-expanded="false"
      >
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>

      <!-- Título e subtítulo da página atual -->
      <div class="topbar__title">
        <h2>Visão Geral</h2>
        <!-- Data atual — será atualizada pelo dashboard.js -->
        <p id="current-date">Segunda-feira, 20 de janeiro de 2025</p>
      </div>

      <!-- Ações da topbar -->
      <div class="topbar__actions">
        <!-- Botão principal: adicionar novo investimento -->
        <a href="add-investment.html" class="btn btn-primary btn-sm">
          <!-- Ícone: mais -->
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" width="16" height="16">
            <line x1="12" y1="5" x2="12" y2="19"></line>
            <line x1="5" y1="12" x2="19" y2="12"></line>
          </svg>
          Adicionar Investimento
        </a>
      </div>

    </header>
    <!-- / Topbar -->

    <!-- ══════════════════════════════════════════════════
         CONTEÚDO PRINCIPAL
    ══════════════════════════════════════════════════ -->
    <main class="main-content" id="main-content">

      <!-- ── SEÇÃO 1: Cards de Resumo ───────────────── -->
      <!-- Os valores serão preenchidos dinamicamente pelo dashboard.js -->
      <section aria-labelledby="summary-title">
        <h2 class="sr-only" id="summary-title">Resumo financeiro</h2>

        <div class="summary-grid">

          <!-- Card: Total Investido -->
          <article class="card summary-card">
            <div class="summary-card__header">
              <span class="summary-card__label">Total Investido</span>
              <div class="summary-card__icon icon-blue">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="12" y1="1" x2="12" y2="23"></line>
                  <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                </svg>
              </div>
            </div>
            <!-- Valor placeholder — substituído pelo dashboard.js -->
            <div class="summary-card__value mono" id="total-invested">R$ 48.500,00</div>
            <div class="summary-card__change text-muted">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="18 15 12 9 6 15"></polyline>
              </svg>
              Capital aportado
            </div>
          </article>

          <!-- Card: Total Atual -->
          <article class="card summary-card">
            <div class="summary-card__header">
              <span class="summary-card__label">Total Atual</span>
              <div class="summary-card__icon icon-green">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline>
                  <polyline points="17 6 23 6 23 12"></polyline>
                </svg>
              </div>
            </div>
            <div class="summary-card__value mono" id="total-current">R$ 56.234,78</div>
            <div class="summary-card__change text-success">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="18 15 12 9 6 15"></polyline>
              </svg>
              Valor atualizado
            </div>
          </article>

          <!-- Card: Lucro / Prejuízo -->
          <article class="card summary-card">
            <div class="summary-card__header">
              <span class="summary-card__label">Lucro / Prejuízo</span>
              <div class="summary-card__icon icon-green">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                  <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
              </div>
            </div>
            <div class="summary-card__value mono text-success" id="profit-loss">+ R$ 7.734,78</div>
            <div class="summary-card__change text-success">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="18 15 12 9 6 15"></polyline>
              </svg>
              Resultado acumulado
            </div>
          </article>

          <!-- Card: Percentual de Rendimento -->
          <article class="card summary-card">
            <div class="summary-card__header">
              <span class="summary-card__label">Rendimento</span>
              <div class="summary-card__icon icon-yellow">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <line x1="19" y1="5" x2="5" y2="19"></line>
                  <circle cx="6.5" cy="6.5" r="2.5"></circle>
                  <circle cx="17.5" cy="17.5" r="2.5"></circle>
                </svg>
              </div>
            </div>
            <div class="summary-card__value mono text-success" id="yield-pct">+15,95%</div>
            <div class="summary-card__change text-success">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="18 15 12 9 6 15"></polyline>
              </svg>
              Sobre o capital investido
            </div>
          </article>

        </div>
      </section>
      <!-- / Seção de resumo -->

      <!-- ── SEÇÃO 2: Gráfico e Distribuição ────────── -->
      <section class="chart-section" aria-labelledby="chart-title">

        <!-- Card principal do gráfico -->
        <article class="card chart-card">
          <div class="section-header">
            <h3 id="chart-title">Evolução Patrimonial</h3>
            <!-- Filtros de período — lógica de alternância em dashboard.js -->
            <div class="period-filter" role="group" aria-label="Período do gráfico">
              <button class="period-btn" data-period="1m">1M</button>
              <button class="period-btn active" data-period="6m">6M</button>
              <button class="period-btn" data-period="1y">1A</button>
              <button class="period-btn" data-period="10y">10A</button>
            </div>
          </div>

          <!-- Container do gráfico — será renderizado pelo dashboard.js -->
          <!-- Integrar biblioteca (Chart.js, ApexCharts, etc.) apontando para este elemento -->
          <div id="chart" role="img" aria-label="Gráfico de evolução patrimonial">
            <div class="chart-placeholder-text">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
              </svg>
              Gráfico será renderizado aqui
            </div>
          </div>
        </article>

        <!-- Card de distribuição por tipo -->
        <article class="card distribution-card" aria-labelledby="dist-title">
          <div class="section-header">
            <h3 id="dist-title">Distribuição</h3>
          </div>

          <!-- Lista de distribuição por categoria -->
          <!-- Dados placeholder — substituídos pelo dashboard.js -->
          <div class="distribution-list">

            <div class="distribution-item">
              <div class="distribution-item__info">
                <span class="distribution-item__label">
                  <span class="distribution-dot" style="background:#3B6FF0;"></span>
                  Renda Fixa
                </span>
                <span class="distribution-item__pct">45%</span>
              </div>
              <div class="distribution-bar-track">
                <div class="distribution-bar-fill bar-blue" style="width: 45%;"></div>
              </div>
            </div>

            <div class="distribution-item">
              <div class="distribution-item__info">
                <span class="distribution-item__label">
                  <span class="distribution-dot" style="background:#10B981;"></span>
                  Ações
                </span>
                <span class="distribution-item__pct">28%</span>
              </div>
              <div class="distribution-bar-track">
                <div class="distribution-bar-fill bar-green" style="width: 28%;"></div>
              </div>
            </div>

            <div class="distribution-item">
              <div class="distribution-item__info">
                <span class="distribution-item__label">
                  <span class="distribution-dot" style="background:#F59E0B;"></span>
                  FIIs
                </span>
                <span class="distribution-item__pct">18%</span>
              </div>
              <div class="distribution-bar-track">
                <div class="distribution-bar-fill bar-yellow" style="width: 18%;"></div>
              </div>
            </div>

            <div class="distribution-item">
              <div class="distribution-item__info">
                <span class="distribution-item__label">
                  <span class="distribution-dot" style="background:#8B5CF6;"></span>
                  Cripto
                </span>
                <span class="distribution-item__pct">9%</span>
              </div>
              <div class="distribution-bar-track">
                <div class="distribution-bar-fill bar-purple" style="width: 9%;"></div>
              </div>
            </div>

          </div>
        </article>

      </section>
      <!-- / Seção de gráfico -->

      <!-- ── SEÇÃO 3: Histórico de Investimentos ────── -->
      <section aria-labelledby="history-title">

        <article class="card history-card">

          <div class="section-header">
            <h3 id="history-title">Histórico de Investimentos</h3>
          </div>

          <!-- Wrapper com scroll horizontal em telas pequenas -->
          <div class="table-wrapper">
            <table class="investments-table" aria-label="Histórico de investimentos">
              <thead>
                <tr>
                  <th scope="col">Data</th>
                  <th scope="col">Tipo</th>
                  <th scope="col">Valor Investido</th>
                  <th scope="col">Rendimento</th>
                  <th scope="col">Total Acumulado</th>
                  <th scope="col">Status</th>
                </tr>
                <tbody id="investments-table-body">
                </tbody>
              </thead>
            </table>
          </div>

          <!-- Rodapé da tabela com paginação -->
          <!-- Lógica de paginação a ser implementada em dashboard.js -->
          <footer class="table-footer">
            <span class="table-footer__info">Mostrando 1–5 de 12 registros</span>
            <nav class="pagination" aria-label="Paginação da tabela">
              <button class="page-btn" aria-label="Página anterior" disabled>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="15 18 9 12 15 6"></polyline>
                </svg>
              </button>
              <button class="page-btn active" aria-current="page" aria-label="Página 1">1</button>
              <button class="page-btn" aria-label="Página 2">2</button>
              <button class="page-btn" aria-label="Página 3">3</button>
              <button class="page-btn" aria-label="Próxima página">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <polyline points="9 18 15 12 9 6"></polyline>
                </svg>
              </button>
            </nav>
          </footer>

        </article>

      </section>

    </main>

  </div>
  <script>const API_URL = 'https://invest-dashboard-backend-6nx6.onrender.com/api';</script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
  <script src="assets/js/auth.js"></script>
  <script src="assets/js/dashboard.js"></script>
</body>
</html>
